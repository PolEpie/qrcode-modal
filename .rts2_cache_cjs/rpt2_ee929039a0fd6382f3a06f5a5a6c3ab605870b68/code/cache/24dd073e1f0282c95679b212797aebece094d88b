{"code":"import * as React from \"react\";\r\nimport { isAndroid, formatIOSMobile, saveMobileLinkInfo } from \"@walletconnect/browser-utils\";\r\nimport { DEFAULT_BUTTON_COLOR, WALLETCONNECT_CTA_TEXT_ID } from \"../constants\";\r\nimport ConnectButton from \"./ConnectButton\";\r\nimport WalletButton from \"./WalletButton\";\r\nimport WalletIcon from \"./WalletIcon\";\r\nconst GRID_MIN_COUNT = 5;\r\nconst LINKS_PER_PAGE = 12;\r\nfunction formatDeepLink(entry) {\r\n    return entry.deepLink\r\n        ? `${entry.deepLink}${entry.deepLink.endsWith(\":\") ? \"//\" : \"/\"}wc?uri=`\r\n        : \"\";\r\n}\r\nfunction LinkDisplay(props) {\r\n    const android = isAndroid();\r\n    const [input, setInput] = React.useState(\"\");\r\n    const [filter, setFilter] = React.useState(\"\");\r\n    const [page, setPage] = React.useState(1);\r\n    const links = filter\r\n        ? props.links.filter(link => link.name.toLowerCase().includes(filter.toLowerCase()))\r\n        : props.links;\r\n    const errorMessage = props.errorMessage;\r\n    const grid = filter || links.length > GRID_MIN_COUNT;\r\n    const pages = Math.ceil(links.length / LINKS_PER_PAGE);\r\n    const range = [(page - 1) * LINKS_PER_PAGE + 1, page * LINKS_PER_PAGE];\r\n    const pageLinks = links.length\r\n        ? links.filter((_, index) => index + 1 >= range[0] && index + 1 <= range[1])\r\n        : [];\r\n    const hasPaging = !!(!android && pages > 1);\r\n    let filterTimeout = undefined;\r\n    function handleInput(e) {\r\n        setInput(e.target.value);\r\n        clearTimeout(filterTimeout);\r\n        if (e.target.value) {\r\n            filterTimeout = setTimeout(() => {\r\n                setFilter(e.target.value);\r\n                setPage(1);\r\n            }, 1000);\r\n        }\r\n        else {\r\n            setInput(\"\");\r\n            setFilter(\"\");\r\n            setPage(1);\r\n        }\r\n    }\r\n    return (React.createElement(\"div\", null,\r\n        React.createElement(\"p\", { id: WALLETCONNECT_CTA_TEXT_ID, className: \"walletconnect-qrcode__text\" }, android ? props.text.connect_mobile_wallet : props.text.choose_preferred_wallet),\r\n        !android && (React.createElement(\"input\", { className: `walletconnect-search__input`, placeholder: \"Search\", value: input, onChange: handleInput })),\r\n        React.createElement(\"div\", { className: `walletconnect-connect__buttons__wrapper${android ? \"__android\" : grid && links.length ? \"__wrap\" : \"\"}` }, !android ? (pageLinks.length ? (pageLinks.map((entry) => {\r\n            const { color, name, shortName, logo } = entry;\r\n            const href = formatIOSMobile(props.uri, entry);\r\n            const handleClickIOS = React.useCallback(() => {\r\n                props.onClick(formatDeepLink(entry));\r\n                saveMobileLinkInfo({\r\n                    name,\r\n                    href,\r\n                });\r\n            }, [pageLinks]);\r\n            return !grid ? (React.createElement(WalletButton, { color: color, href: '#', name: name, logo: logo, onClick: handleClickIOS })) : (React.createElement(WalletIcon, { color: color, href: '#', name: shortName || name, logo: logo, onClick: handleClickIOS }));\r\n        })) : (React.createElement(React.Fragment, null,\r\n            React.createElement(\"p\", null, errorMessage.length\r\n                ? props.errorMessage\r\n                : !!props.links.length && !links.length\r\n                    ? props.text.no_wallets_found\r\n                    : props.text.loading)))) : (React.createElement(ConnectButton, { name: props.text.connect, color: DEFAULT_BUTTON_COLOR, href: props.uri, onClick: React.useCallback(() => {\r\n                saveMobileLinkInfo({\r\n                    name: \"Unknown\",\r\n                    href: props.uri,\r\n                });\r\n            }, []) }))),\r\n        hasPaging && (React.createElement(\"div\", { className: \"walletconnect-modal__footer\" }, Array(pages)\r\n            .fill(0)\r\n            .map((_, index) => {\r\n            const pageNumber = index + 1;\r\n            const selected = page === pageNumber;\r\n            return (React.createElement(\"a\", { style: { margin: \"auto 10px\", fontWeight: selected ? \"bold\" : \"normal\" }, onClick: () => setPage(pageNumber) }, pageNumber));\r\n        })))));\r\n}\r\nexport default LinkDisplay;\r\n//# sourceMappingURL=LinkDisplay.js.map","map":"{\"version\":3,\"file\":\"LinkDisplay.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/browser/components/LinkDisplay.tsx\"],\"names\":[],\"mappings\":\"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\"}","dtsmap":{"name":"/Users/polepie/developpement/walletconnect-monorepo-1.0/packages/helpers/qrcode-modal/browser/components/LinkDisplay.d.ts.map","writeByteOrderMark":false,"text":"{\"version\":3,\"file\":\"LinkDisplay.d.ts\",\"sourceRoot\":\"\",\"sources\":[\"../../src/browser/components/LinkDisplay.tsx\"],\"names\":[],\"mappings\":\";AACA,OAAO,EAAE,oBAAoB,EAAE,mBAAmB,EAAE,MAAM,sBAAsB,CAAC;AAWjF,OAAO,EAAE,OAAO,EAAE,MAAM,UAAU,CAAC;AAEnC,UAAU,gBAAgB;IACxB,MAAM,EAAE,OAAO,CAAC;IAChB,IAAI,EAAE,OAAO,CAAC;IACd,GAAG,EAAE,MAAM,CAAC;IACZ,OAAO,EAAE,GAAG,CAAC;IACb,kBAAkB,CAAC,EAAE,mBAAmB,CAAC;IACzC,KAAK,EAAE,oBAAoB,EAAE,CAAC;IAC9B,YAAY,EAAE,MAAM,CAAC;CACtB;AAWD,iBAAS,WAAW,CAAC,KAAK,EAAE,gBAAgB,eA6H3C;AAED,eAAe,WAAW,CAAC\"}"},"dts":{"name":"/Users/polepie/developpement/walletconnect-monorepo-1.0/packages/helpers/qrcode-modal/browser/components/LinkDisplay.d.ts","writeByteOrderMark":false,"text":"/// <reference types=\"react\" />\r\nimport { IMobileRegistryEntry, IQRCodeModalOptions } from \"@walletconnect/types\";\r\nimport { TextMap } from \"../types\";\r\ninterface LinkDisplayProps {\r\n    mobile: boolean;\r\n    text: TextMap;\r\n    uri: string;\r\n    onClick: any;\r\n    qrcodeModalOptions?: IQRCodeModalOptions;\r\n    links: IMobileRegistryEntry[];\r\n    errorMessage: string;\r\n}\r\ndeclare function LinkDisplay(props: LinkDisplayProps): JSX.Element;\r\nexport default LinkDisplay;\r\n//# sourceMappingURL=LinkDisplay.d.ts.map"}}
